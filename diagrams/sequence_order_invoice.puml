@startuml
' Diagrama de Secuencia: Pedido y FacturaciÃ³n

actor User
participant Application
participant OrderService
participant InvoiceService
participant TableService

User -> Application: createOrder(customer, tableNumber)
activate Application
Application -> OrderService: createOrder(customer, tableNumber)
activate OrderService
OrderService --> Application: newOrder
deactivate OrderService
Application --> User: Order Created
deactivate Application

User -> Application: addItemToOrder(order, "Pizza Margherita")
activate Application
Application -> OrderService: addItemToOrder(order, "Pizza Margherita")
activate OrderService
OrderService --> Application: void
deactivate OrderService
Application --> User: Item Added
deactivate Application

User -> Application: generateInvoice(order, "CASH")
activate Application
Application -> InvoiceService: generateInvoice(order, "CASH")
activate InvoiceService

InvoiceService -> TableService: updateTableAvailability(tableNumber, true)
activate TableService
TableService --> InvoiceService: void
deactivate TableService

InvoiceService --> Application: invoice
deactivate InvoiceService
Application --> User: Invoice Generated
deactivate Application

@enduml
